### 1.开发平台

* http://git.meiduo.site/users/sign_in

  


### 2.数据库设计

* 根据黑马头条**前台**产品原型图中**用户端**的部分，进行数据库设计。
  - 表结构
  - 字段类型、是否允许为null、是否有默认值
  - 索引设计
  - 数据库引擎的选择

* 根据产品原型分析，词性分析法，名词创建表或字段，动词表示关系。
  * 数据存储：长期存储的数据，

* 主键：唯一、自增。
  * 可以不用手动指定，mysql会默认生成自增主键；
  * 不适合做主键：业务数据，比如mobile，id_card

* 表之间的关系：
  * 一个用户可以发布文章数？一对多，用户是一方，文章是多方

* 外键：多表之间没有外键，可以进行连表查询吗？
  * 作用：确保数据的完整性。
  * 黑马头像项目中没有外键，自己维护数据的完整性。
  * 工作中：项目初期一般会使用外键，项目运行中后期，一般都会取消外键。

* 文章封面图片存储：在MySQL5.7版本后，新加如json数据类型；
  * json的类型底层是longtext
  * 方便存储多个键值对形式的字符串，不容易发生的数据。

* 数据库设计—范式：
  * 1.表字段的原子性
  * 2.满足第1范式的基础上，有主键依赖
  * 3.满足第1、2范式的基础上，非主属性之间没有依赖关系；

* 反范式：DBA的水平，反范式设计用的越多，水平越高。
  * 设计数据库表，存储冗余字段；
  * 利用数据库表的存储空间，节省查询数据时间；

* 实名认证：
  * 身份证正面、反面、手持
  * 活体认证

* 索引设计：

  * 主键、外键、unique、index
  * 哪些字段适合索引的设计：
    * 适合：mobile，name，nick_name
    * 不适合：photo_url，intro，gender

  * 结论：
    * 1.数据形式比较复杂的；
    * 2.查询语句条件后面，where后面
    * 3.数据形式单一的不适合。

* 数据库引擎：决定数据存储和查询的方式；
  * InnoDB：支持事务，更安全，查询和插入的效率相对较低；
  * MyISAM：不支持事务，查询效率相对较高；
  * 一个项目中，不同的表，可以指定不同的引擎。

* 数据类型：
  * int(10)，int(20)….
  * 数据类型的大小由括号外的类型决定，括号内的标识显示的长度；

* 头条项目数据库表创建的说明：/toutiao-backend/common/models/init.sql
  * 先有sql语句，手动创建表
  * 实现orm和表的映射；
  * 原因：ORM无法实现表的字段的类型的精准定义，所以，先通过手动创建表，然后通过ORM实现映射，最终实现ORM查询数据。
